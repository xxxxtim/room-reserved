<template>
<div class="banner">
    <b-carousel id="carousel-1" v-model="slide" :interval="3000" controls indicators background="#ababab" img-width="1024" img-height="480" style="text-shadow: 1px 1px 2px #333;" @sliding-start="onSlideStart" @sliding-end="onSlideEnd">
        <!-- v-for -->
        <b-carousel-slide class="h-100" v-for="(item, index) in getRoomsStyles" :key="index" :img-src="item.imageUrl"></b-carousel-slide>
    </b-carousel>
</div>
</template>

<script>
import axios from "axios"; //引入axios
import {
    mapGetters
} from "vuex";

export default {
    data() {
        return {
            slide: 0,
            sliding: null
            // roomsStyles: [{
            //         id: "3Elqe8kfMxdZv5xFLV4OUeN6jhmxIvQSTyj4eTgIowfIRvF4rerA2Nuegzc2Rgwu",
            //         imageUrl: "https://images.unsplash.com/photo-1551776235-dde6d482980b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2134&q=80",
            //         normalDayPrice: 1380,
            //         holidayPrice: 1500,
            //         name: "Single Room"
            //     },
            //     {
            //         id: "g0mYhN6ignMz4VYW7eiWsXZN8DHolHzH8LuVmM6hq5h6BrrqrLMw4aJgHv7LZ3RQ",
            //         imageUrl: "https://images.unsplash.com/photo-1564182379166-8fcfdda80151?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1951&q=80",
            //         normalDayPrice: 1899,
            //         holidayPrice: 2000,
            //         name: "Deluxe Single Room"
            //     },
            //     {
            //         id: "RA8NhExaXXZB7EODVALSDvFFQzj1JP0a4C1pwZ1acPaieRBwiWoCb0FE0KUbXaxg",
            //         imageUrl: "https://images.unsplash.com/photo-1526913621366-a4583840d736?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80",
            //         normalDayPrice: 2460,
            //         holidayPrice: 2500,
            //         name: "Double Room"
            //     },
            //     {
            //         id: "kICyWhZ5XsfI4n1d4gBOsDjIyIxNozwgmxYKyZpzi5pjLcU2Nl4RhiGrn6zaPuTJ",
            //         imageUrl: "https://images.unsplash.com/photo-1519710889408-a67e1c7e0452?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2134&q=80",
            //         normalDayPrice: 2888,
            //         holidayPrice: 3000,
            //         name: "Deluxe Double Room"
            //     },
            //     {
            //         id: "VCxbQq1vLeUtxW781k9Dlq3mHBRNl5YP19Lhq8k5TbIr2BeH58gRpnNKGoEgkysz",
            //         imageUrl: "https://images.unsplash.com/photo-1558976825-6b1b03a03719?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80",
            //         normalDayPrice: 3350,
            //         holidayPrice: 3500,
            //         name: "Twin Room"
            //     },
            //     {
            //         id: "YovqNpFDaal598jbpd1A14gXwDE6gekTqJgxOAGcq78B8YnP7claymQVFy2GTwgb",
            //         imageUrl: "https://images.unsplash.com/photo-1552902019-ebcd97aa9aa0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2134&q=80",
            //         normalDayPrice: 3899,
            //         holidayPrice: 4000,
            //         name: "Deluxe Twin Room"
            //     }
            // ]
        };
    },
    methods: {
        onSlideStart(slide) {
            this.sliding = true;
        },
        onSlideEnd(slide) {
            this.sliding = false;
        }
    },
    created() {
        // axios
        //     .get("https://challenge.thef2e.com/api/thef2e2019/stage6/rooms", {
        //         headers: {
        //             Authorization: "Bearer IOdf0UIIYuWAaUqB84OcRb0NJYEBDWYUFygTLF2N8MV1WD5J6GK4HDHnGwUL"
        //         }
        //     })
        //     .then(response => (this.roomsStyles = response.data.items));
    },
    computed: {
        ...mapGetters(["getRoomsStyles"])
    }
};
</script>

<style lang="scss" scoped>
.banner {
    height: 660px;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -1;
    // margin: 0 auto;
}

::v-deep img {
    height: 750px;
    width: 100%;
    object-fit: fill;
}
</style>
